"use strict";(self.webpackChunksalon_belleza=self.webpackChunksalon_belleza||[]).push([[366],{5366:(R,f,i)=>{i.r(f),i.d(f,{MultimediaModule:()=>G});var g=i(6895),l=i(4006),S=i(2340),z=i(3504),M=i(2619),e=i(4650),x=i(2587),h=i(7),E=i(4988),w=i(9651),y=i(2411),V=i(6616),b=i(7044),L=i(1811),c=i(3679),p=i(6704),F=i(7423),I=i(5635),T=i(433);function A(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"p",7),e.\u0275\u0275text(2,"Subir video debe pesar max 30 Mb y durar max 30 seg."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"p",7),e.\u0275\u0275text(5,"Subir imagen previa."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"label",9),e.\u0275\u0275element(7,"img",10),e.\u0275\u0275elementStart(8,"input",11),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.fileChangeEvent(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",12),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(10,"svg",13),e.\u0275\u0275element(11,"path",14),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("src",t.previewUrl,e.\u0275\u0275sanitizeUrl)}}function Z(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"p",7),e.\u0275\u0275text(2,"Subir im\xe1genes con un tama\xf1o de 16/9 rectangular"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"label",9),e.\u0275\u0275element(5,"img",15),e.\u0275\u0275elementStart(6,"input",11),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.fileChangeEvent(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",16),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(8,"svg",17),e.\u0275\u0275element(9,"path",18),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("src",t.previewUrl,e.\u0275\u0275sanitizeUrl)}}function P(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",19)(2,"nz-upload",20)(3,"button",21),e.\u0275\u0275element(4,"i",22),e.\u0275\u0275text(5," Subir video "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("nzAccept",".mp4,.mpeg")("nzCustomRequest",t.handleUploadVideo)("nzShowUploadList",!1)}}function H(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"nz-form-item")(2,"nz-form-label",23),e.\u0275\u0275text(3,"Agregar nombre de video (10 caracteres)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"nz-form-control",24),e.\u0275\u0275element(5,"input",25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"nz-form-item")(7,"nz-form-label",26),e.\u0275\u0275text(8,"Agregar breve descripci\xf3n (100 caracteres)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"nz-form-control",27),e.\u0275\u0275element(10,"input",28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"nz-form-item")(12,"nz-form-label",29),e.\u0275\u0275text(13,"Agregar Link de aterrizaje"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"nz-form-control",27),e.\u0275\u0275element(15,"input",30),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function j(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"nz-form-item")(2,"nz-form-label",29),e.\u0275\u0275text(3,"Agregar Link de aterrizaje"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"nz-form-control",24),e.\u0275\u0275element(5,"input",30),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}let _=(()=>{class n{constructor(t,o,a,d,m,s){this.modalService=t,this.nzModalService=o,this.fb=a,this.apiService=d,this.messageService=m,this.formValidator=s,this.storyShow=!0,this.MAX_SIZE_MB=30,this.loading=!1,this.fileSelected=null,this.filePreviewSelected=null,this.previewUrl=M.t.IMAGE.FALLBACK,this.optionsPreview={showPreviewIcon:!1},this.handleUploadVideo=v=>{console.log(v.file);const u=v.file;this.fileSelected=null,u&&(u.size>1024*this.MAX_SIZE_MB*1024?this.messageService.error(`El archivo es demasiado grande. El tama\xf1o m\xe1ximo permitido es de ${this.MAX_SIZE_MB} MB.`):this.fileSelected=u)},this.validateForm=this.fb.group({name:[null],description:[null],link:[null]})}ngOnInit(){this.storyShow&&this.validateForm.get("name").setValidators([l.kI.required])}fileChangeEvent(t){const o=t.target.files[0];if(this.filePreviewSelected=null,!o)return;const a=1024*this.MAX_SIZE_MB*1024;if(this.previewUrl=null,o.size>a)return this.messageService.error(`El archivo es demasiado grande. El tama\xf1o m\xe1ximo permitido es de ${this.MAX_SIZE_MB} MB.`),void(t.target.value="");this.nzModalService.create({nzContent:z.P,nzTitle:"Imagen para cortar",nzMaskClosable:!1,nzComponentParams:{file:t,square:this.storyShow},nzFooter:null}).afterClose.subscribe(m=>{if(null!=m.file){const s=new FileReader;s.onload=()=>{this.previewUrl=s.result},s.readAsDataURL(m.file),this.storyShow?this.filePreviewSelected=m.file:this.fileSelected=m.file}})}onClose(){this.nzModalService.closeAll()}onPublishVideo(){if(this.formValidator.validForm(this.validateForm)){if(null==this.fileSelected)return void this.messageService.error(this.storyShow?"Debe Seleccionar un video.":"Debe seleccionar una imagen");const t=new FormData;this.loading=!0,t.append("file",this.fileSelected),t.append("preview",this.filePreviewSelected),t.append("name",this.validateForm.get("name")?.value??""),t.append("description",this.validateForm.get("description")?.value??""),t.append("link",this.validateForm.get("link")?.value??""),t.append("story",this.storyShow?"1":"0"),this.apiService.postUserPublishVideoStory(t).subscribe(o=>{this.loading=!1,o.success&&(this.previewUrl=S.N.hostUrl+"/storage/"+o.data,this.onClose(),this.messageService.success("Se subio tu historia correctamente"))},o=>{this.loading=!1})}}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(x.Z),e.\u0275\u0275directiveInject(h.Sf),e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(E.s),e.\u0275\u0275directiveInject(w.dD),e.\u0275\u0275directiveInject(y.T))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-multimedia-video"]],inputs:{storyShow:"storyShow"},decls:15,vars:8,consts:[[4,"ngIf"],[1,"m-b-30"],["nz-form","",3,"formGroup","nzLayout"],[1,""],["nz-button","","nzType","primary",2,"margin-bottom","10px",3,"nzLoading","click"],["nz-icon","","nzType","right","nzTheme","outline"],["nz-button","","nzType","primary","nzDanger","",2,"margin-bottom","10px",3,"click"],[1,"text-center","ff-inter","fs-13"],[1,"text-center"],["for","fileupload",1,"position-relative","m-b-10"],[1,"rounded-circle","img-fluid",2,"max-width","120px","height","120px",3,"src"],["type","file","name","fileupload","id","fileupload","accept",".png,.jpg",1,"d-none",3,"change"],[1,"position-absolute","top-0","start-0","w-100","d-flex","justify-content-center","align-items-end","rounded-circle",2,"background-color","rgba(0, 0, 0, 0.1)","padding","6px","height","120px"],["xmlns","http://www.w3.org/2000/svg","width","20","height","19","viewBox","0 0 20 19","fill","none"],["d","M7.58336 6.14623V12.8546C7.58336 13.2475 8.03378 13.4775 8.35003 13.2379L12.8254 9.88373C13.0842 9.69206 13.0842 9.30873 12.8254 9.11706L8.35003 5.76289C8.03378 5.52331 7.58336 5.75331 7.58336 6.14623ZM8.54169 1.09581C8.54169 0.482476 7.97628 0.0128927 7.38211 0.147059C6.30878 0.396226 5.29294 0.817893 4.39211 1.39289C3.88419 1.71873 3.80753 2.44706 4.23878 2.87831C4.54544 3.18498 5.03419 3.26164 5.39836 3.03164C6.13628 2.56206 6.95086 2.21706 7.83253 2.02539C8.25419 1.92956 8.54169 1.53664 8.54169 1.09581ZM2.88753 4.23914C2.44669 3.80789 1.72794 3.87498 1.40211 4.39248C0.82711 5.29331 0.405443 6.30914 0.156276 7.38248C0.0221098 7.97664 0.48211 8.54206 1.09544 8.54206C1.52669 8.54206 1.92919 8.25456 2.01544 7.83289C2.20711 6.96081 2.56169 6.13664 3.02169 5.40831C3.27086 5.03456 3.19419 4.54581 2.88753 4.23914ZM1.09544 10.4587C0.48211 10.4587 0.0125265 11.0241 0.146693 11.6183C0.39586 12.6916 0.817526 13.6979 1.39253 14.6083C1.71836 15.1258 2.44669 15.1929 2.87794 14.7616C3.18461 14.455 3.26128 13.9662 3.02169 13.6021C2.55211 12.8737 2.20711 12.0591 2.01544 11.1775C1.92919 10.7462 1.53628 10.4587 1.09544 10.4587ZM4.39211 17.5983C5.30253 18.1733 6.30878 18.595 7.38211 18.8441C7.97628 18.9783 8.54169 18.5087 8.54169 17.905C8.54169 17.4737 8.25419 17.0712 7.83253 16.985C6.96044 16.7933 6.13628 16.4387 5.40794 15.9787C5.03419 15.7487 4.55503 15.8158 4.24836 16.1321C3.80753 16.5537 3.87461 17.2725 4.39211 17.5983ZM19.0834 9.50039C19.0834 14.0333 15.9209 17.8475 11.6754 18.8346C11.0813 18.9783 10.5063 18.5087 10.5063 17.8954C10.5063 17.4546 10.8034 17.0712 11.225 16.9658C14.6271 16.18 17.1667 13.1325 17.1667 9.50039C17.1667 5.86831 14.6271 2.82081 11.225 2.03498C10.8034 1.93914 10.5063 1.54623 10.5063 1.10539C10.5063 0.492059 11.0813 0.022476 11.6754 0.166226C15.9209 1.15331 19.0834 4.96748 19.0834 9.50039Z","fill","#EAEAEA","fill-opacity","0.85"],[1,"img-fluid",2,"width","240px",3,"src"],[1,"position-absolute","top-0","start-0","w-100","d-flex","justify-content-center","align-items-end",2,"background-color","rgba(0, 0, 0, 0.1)","padding","6px","height","100%"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 20 20","fill","none"],["d","M17.5 5.00001H14.8333L13.3333 3.33334H8.33333V5.00001H12.5833L14.1667 6.66668H17.5V16.6667H4.16667V9.16668H2.5V16.6667C2.5 17.5833 3.25 18.3333 4.16667 18.3333H17.5C18.4167 18.3333 19.1667 17.5833 19.1667 16.6667V6.66668C19.1667 5.75001 18.4167 5.00001 17.5 5.00001ZM6.66667 11.6667C6.66667 15.375 11.1583 17.2417 13.7833 14.6167C16.4083 11.9917 14.5417 7.50001 10.8333 7.50001C8.53333 7.50001 6.66667 9.36668 6.66667 11.6667ZM10.8333 9.16668C12.2 9.20834 13.2917 10.3 13.3333 11.6667C13.2917 13.0333 12.2 14.125 10.8333 14.1667C9.46667 14.125 8.375 13.0333 8.33333 11.6667C8.375 10.3 9.46667 9.20834 10.8333 9.16668ZM4.16667 5.00001H6.66667V3.33334H4.16667V0.833344H2.5V3.33334H0V5.00001H2.5V7.50001H4.16667","fill","#E3E3E3"],[1,"text-center","m-b-20"],[3,"nzAccept","nzCustomRequest","nzShowUploadList"],["nz-button",""],["nz-icon","","nzType","upload"],["nzFor","name"],["nzErrorTip","Este campo es requerido"],["formControlName","name","id","name","nz-input","","maxlength","10",1,"input__h-50","bg--input"],["nzFor","description"],["nzErrorTip",""],["formControlName","description","id","description","nz-input","","maxlength","100",1,"input__h-50","bg--input"],["nzFor","link"],["formControlName","link","id","link","nz-input","",1,"input__h-50","bg--input"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,A,12,1,"ng-container",0),e.\u0275\u0275template(1,Z,10,1,"ng-container",0),e.\u0275\u0275template(2,P,6,3,"ng-container",0),e.\u0275\u0275elementStart(3,"div",1)(4,"form",2),e.\u0275\u0275template(5,H,16,0,"ng-container",0),e.\u0275\u0275template(6,j,6,0,"ng-container",0),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",3)(8,"div")(9,"button",4),e.\u0275\u0275listener("click",function(){return o.onPublishVideo()}),e.\u0275\u0275text(10,"Publicar\xa0\xa0 "),e.\u0275\u0275element(11,"i",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div")(13,"button",6),e.\u0275\u0275listener("click",function(){return o.onClose()}),e.\u0275\u0275text(14,"Retroceder"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("ngIf",o.storyShow),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.storyShow),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.storyShow),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",o.validateForm)("nzLayout","vertical"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.storyShow),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.storyShow),e.\u0275\u0275advance(3),e.\u0275\u0275property("nzLoading",o.loading))},dependencies:[g.O5,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,V.ix,b.w,L.dQ,c.t3,c.SK,p.Lr,p.Nx,p.iK,p.Fd,F.Ls,I.Zp,T.FY]}),n})();var B=i(1971);let U=(()=>{class n{constructor(t){this.nzModalService=t}ngOnInit(){}onModalVideo(t=!0){this.nzModalService.create({nzTitle:t?"Subir Stories videos":"Subir im\xe1genes a carrusel",nzContent:_,nzFooter:null,nzComponentParams:{storyShow:t}})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(h.Sf))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-multimedia-page"]],decls:26,vars:2,consts:[[2,"border","0"],[1,"m-b-20"],[1,"m-b-20",3,"nzXs"],[1,"m-b-10",3,"nzXs"],["href","javascript: void(0);",1,"d-flex","align-items-center","rounded","card--shadow","m-b-20","p-t-20","p-b-20","pointer",3,"click"],[1,"p-20"],["width","36","height","36","viewBox","0 0 36 36","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","36","height","36","rx","6","fill","#F2F2F7"],["d","M17.625 18C20.6629 18 23.125 15.5379 23.125 12.5C23.125 9.46211 20.6629 7 17.625 7C14.5871 7 12.125 9.46211 12.125 12.5C12.125 15.5379 14.5871 18 17.625 18ZM21.475 19.375H20.7574C19.8035 19.8133 18.7422 20.0625 17.625 20.0625C16.5078 20.0625 15.4508 19.8133 14.4926 19.375H13.775C10.5867 19.375 8 21.9617 8 25.15V26.9375C8 28.0762 8.92383 29 10.0625 29H25.1875C26.3262 29 27.25 28.0762 27.25 26.9375V25.15C27.25 21.9617 24.6633 19.375 21.475 19.375Z","fill","#626262"],[1,""],[1,"m-b-0","font-size-18",2,"color","rgba(60, 60, 67, 0.6)"],[1,"m-0","font-size-18",2,"font-weight","400"],["d","M22.4842 17.5013C21.7675 17.5013 21.0932 17.1196 20.7284 16.5089L18.0015 11.9881L15.2788 16.5089C14.9099 17.1239 14.2355 17.5056 13.5188 17.5056C13.328 17.5056 13.1371 17.4801 12.9548 17.425L7.14466 15.7625V23.3114C7.14466 23.9348 7.56875 24.4777 8.17097 24.6261L17.3399 26.9205C17.7725 27.0265 18.2263 27.0265 18.6546 26.9205L27.8321 24.6261C28.4343 24.4734 28.8584 23.9306 28.8584 23.3114V15.7625L23.0483 17.4207C22.8659 17.4759 22.675 17.5013 22.4842 17.5013ZM31.5005 12.743L29.3164 8.38325C29.1849 8.12031 28.9008 7.96764 28.6081 8.00581L18.0015 9.35867L21.8905 15.8092C22.0516 16.0764 22.3739 16.2036 22.675 16.1188L31.0679 13.7226C31.4878 13.5996 31.6913 13.1331 31.5005 12.743ZM6.68663 8.38325L4.50254 12.743C4.30746 13.1331 4.51526 13.5996 4.93088 13.7184L13.3237 16.1145C13.6248 16.1993 13.9472 16.0721 14.1083 15.8049L18.0015 9.35867L7.39063 8.00581C7.09801 7.97188 6.8181 8.12031 6.68663 8.38325Z","fill","#626262"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"nz-card",0)(1,"nz-row",1)(2,"nz-col",2)(3,"h2"),e.\u0275\u0275text(4,"Subir contenido multimedia."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"nz-col",3)(6,"a",4),e.\u0275\u0275listener("click",function(){return o.onModalVideo(!0)}),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(8,"svg",6),e.\u0275\u0275element(9,"rect",7)(10,"path",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(11,"div",9)(12,"p",10),e.\u0275\u0275text(13,"Stories"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"p",11),e.\u0275\u0275text(15,"Subir videos tipo Stories"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"a",4),e.\u0275\u0275listener("click",function(){return o.onModalVideo(!1)}),e.\u0275\u0275elementStart(17,"div",5),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(18,"svg",6),e.\u0275\u0275element(19,"rect",7)(20,"path",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(21,"div",9)(22,"p",10),e.\u0275\u0275text(23,"Carrusel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"p",11),e.\u0275\u0275text(25,"Subir im\xe1genes a Carrusel"),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("nzXs",24),e.\u0275\u0275advance(3),e.\u0275\u0275property("nzXs",24))},dependencies:[B.bd,c.t3,c.SK],styles:[".card--shadow[_ngcontent-%COMP%]{box-shadow:0 3px 5px #0000008c}"]}),n})();var C=i(7396),D=i(8972);const X=[{path:"",component:U,data:{title:"Multimedia ",headerDisplay:"none"}}];let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[D.m,g.ez,C.Bz.forChild(X),C.Bz]}),n})()}}]);