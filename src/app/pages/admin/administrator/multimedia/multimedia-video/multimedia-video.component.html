
<ng-container *ngIf="storyShow">
    <p class="text-center ff-inter fs-13">Subir video debe pesar max 30 Mb y durar max 30 seg.</p>
    <div class="text-center ">
        <p class="text-center ff-inter fs-13">Subir imagen previa.</p>
        <label for="fileupload" class="position-relative m-b-10">
            <img [src]="previewUrl" class="rounded-circle img-fluid" style="max-width: 120px; height: 120px;">
            <input type="file" name="fileupload" id="fileupload" (change)="fileChangeEvent($event)" class="d-none" accept=".png,.jpg"/>
            <div class="position-absolute top-0 start-0 w-100 d-flex justify-content-center align-items-end rounded-circle" style="background-color: rgba(0, 0, 0, 0.1); padding: 6px; height: 120px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19" fill="none">
            <path d="M7.58336 6.14623V12.8546C7.58336 13.2475 8.03378 13.4775 8.35003 13.2379L12.8254 9.88373C13.0842 9.69206 13.0842 9.30873 12.8254 9.11706L8.35003 5.76289C8.03378 5.52331 7.58336 5.75331 7.58336 6.14623ZM8.54169 1.09581C8.54169 0.482476 7.97628 0.0128927 7.38211 0.147059C6.30878 0.396226 5.29294 0.817893 4.39211 1.39289C3.88419 1.71873 3.80753 2.44706 4.23878 2.87831C4.54544 3.18498 5.03419 3.26164 5.39836 3.03164C6.13628 2.56206 6.95086 2.21706 7.83253 2.02539C8.25419 1.92956 8.54169 1.53664 8.54169 1.09581ZM2.88753 4.23914C2.44669 3.80789 1.72794 3.87498 1.40211 4.39248C0.82711 5.29331 0.405443 6.30914 0.156276 7.38248C0.0221098 7.97664 0.48211 8.54206 1.09544 8.54206C1.52669 8.54206 1.92919 8.25456 2.01544 7.83289C2.20711 6.96081 2.56169 6.13664 3.02169 5.40831C3.27086 5.03456 3.19419 4.54581 2.88753 4.23914ZM1.09544 10.4587C0.48211 10.4587 0.0125265 11.0241 0.146693 11.6183C0.39586 12.6916 0.817526 13.6979 1.39253 14.6083C1.71836 15.1258 2.44669 15.1929 2.87794 14.7616C3.18461 14.455 3.26128 13.9662 3.02169 13.6021C2.55211 12.8737 2.20711 12.0591 2.01544 11.1775C1.92919 10.7462 1.53628 10.4587 1.09544 10.4587ZM4.39211 17.5983C5.30253 18.1733 6.30878 18.595 7.38211 18.8441C7.97628 18.9783 8.54169 18.5087 8.54169 17.905C8.54169 17.4737 8.25419 17.0712 7.83253 16.985C6.96044 16.7933 6.13628 16.4387 5.40794 15.9787C5.03419 15.7487 4.55503 15.8158 4.24836 16.1321C3.80753 16.5537 3.87461 17.2725 4.39211 17.5983ZM19.0834 9.50039C19.0834 14.0333 15.9209 17.8475 11.6754 18.8346C11.0813 18.9783 10.5063 18.5087 10.5063 17.8954C10.5063 17.4546 10.8034 17.0712 11.225 16.9658C14.6271 16.18 17.1667 13.1325 17.1667 9.50039C17.1667 5.86831 14.6271 2.82081 11.225 2.03498C10.8034 1.93914 10.5063 1.54623 10.5063 1.10539C10.5063 0.492059 11.0813 0.022476 11.6754 0.166226C15.9209 1.15331 19.0834 4.96748 19.0834 9.50039Z" fill="#EAEAEA" fill-opacity="0.85"/>
            </svg>
            </div>
        </label>
    </div>
</ng-container>

<ng-container *ngIf="!storyShow">
    <p class="text-center ff-inter fs-13">Subir imágenes con un tamaño de 16/9 rectangular</p>
    <div class="text-center ">
        <label for="fileupload" class="position-relative m-b-10">
            <img [src]="previewUrl" class="img-fluid" style="width: 240px;">
            <input type="file" name="fileupload" id="fileupload" (change)="fileChangeEvent($event)" class="d-none" accept=".png,.jpg"/>
            <div class="position-absolute top-0 start-0 w-100 d-flex justify-content-center align-items-end" style="background-color: rgba(0, 0, 0, 0.1); padding: 6px; height: 100%;">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 20 20" fill="none">
              <path d="M17.5 5.00001H14.8333L13.3333 3.33334H8.33333V5.00001H12.5833L14.1667 6.66668H17.5V16.6667H4.16667V9.16668H2.5V16.6667C2.5 17.5833 3.25 18.3333 4.16667 18.3333H17.5C18.4167 18.3333 19.1667 17.5833 19.1667 16.6667V6.66668C19.1667 5.75001 18.4167 5.00001 17.5 5.00001ZM6.66667 11.6667C6.66667 15.375 11.1583 17.2417 13.7833 14.6167C16.4083 11.9917 14.5417 7.50001 10.8333 7.50001C8.53333 7.50001 6.66667 9.36668 6.66667 11.6667ZM10.8333 9.16668C12.2 9.20834 13.2917 10.3 13.3333 11.6667C13.2917 13.0333 12.2 14.125 10.8333 14.1667C9.46667 14.125 8.375 13.0333 8.33333 11.6667C8.375 10.3 9.46667 9.20834 10.8333 9.16668ZM4.16667 5.00001H6.66667V3.33334H4.16667V0.833344H2.5V3.33334H0V5.00001H2.5V7.50001H4.16667" fill="#E3E3E3"/>
            </svg>
            </div>
        </label>
    </div>
</ng-container>

<ng-container *ngIf="storyShow">
    <div class="text-center m-b-20">
        <nz-upload [nzAccept]="'.mp4,.mpeg'" [nzCustomRequest]="handleUploadVideo" [nzShowUploadList]="false">
        <button nz-button>
            <i nz-icon nzType="upload"></i>
            Subir video
        </button>
        </nz-upload>
    </div>
</ng-container>
<div class="m-b-30">
<form nz-form [formGroup]="validateForm" [nzLayout]="'vertical'">
    <ng-container *ngIf="storyShow">
        <nz-form-item>
            <nz-form-label nzFor="name">Agregar nombre de video (10 caracteres)</nz-form-label>
            <nz-form-control
            nzErrorTip="Este campo es requerido"
            >
                <input formControlName="name" id="name" nz-input class="input__h-50 bg--input" maxlength="10"/>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzFor="description">Agregar breve descripción (100 caracteres)</nz-form-label>
            <nz-form-control
            nzErrorTip=""
            >
                <input formControlName="description" id="description" nz-input class="input__h-50 bg--input" maxlength="100"/>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzFor="link">Agregar Link de aterrizaje</nz-form-label>
            <nz-form-control
            nzErrorTip=""
            >
                <input formControlName="link" id="link" nz-input class="input__h-50 bg--input"/>
            </nz-form-control>
        </nz-form-item>
    </ng-container>
    <ng-container *ngIf="!storyShow">
        <nz-form-item>
            <nz-form-label nzFor="link">Agregar Link de aterrizaje</nz-form-label>
            <nz-form-control
            nzErrorTip="Este campo es requerido"
            >
                <input formControlName="link" id="link" nz-input class="input__h-50 bg--input"/>
            </nz-form-control>
        </nz-form-item>
    </ng-container>
</form>
</div>

<div class="">
    <div>
        <button nz-button nzType="primary" (click)="onPublishVideo()" [nzLoading]="loading" style="margin-bottom: 10px;">Publicar&nbsp;&nbsp; <i nz-icon nzType="right" nzTheme="outline"></i></button>
    </div>
    <div>
        <button nz-button nzType="primary" (click)="onClose()" nzDanger style="margin-bottom: 10px;">Retroceder</button>
    </div>
</div>